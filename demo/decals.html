<xr-engine width="1000" height="400">
  <xr-scene clear-color="#4FC690">
    <xr-camera id="cam1" radius="3" alpha="-135" beta="130"></xr-camera>
    <xr-directional-light id="light1" intensity="1"></xr-directional-light>
    <xr-hemispheric-light id="light2" intensity="1"></xr-hemispheric-light>

    <xr-material id="m1"></xr-material>
    <xr-geometry id="g1" type="box"></xr-geometry>

    <xr-keyframes id="ani1" from="position: 0 0 0" 50%="position: 0 0.5 0" to="position: 0 1 0"></xr-keyframes>

    <xr-mesh
      id="box1"
      debug="axesViewer: true; axesViewerScale: 0.5;"
      geometry="g1"
      material="m1"
      rotation="0 0 0"
      transition="rotation 0.5s"
      onloadeddata="event.currentTarget.querySelectorAll('xr-ray').forEach(ray => ray.pick())"
      onpick="console.log('@@@ hit:', event.target.id, event.detail.hit)"
    >
      <xr-ray id="ray-1" rotation="0 0 0" debug="color: #0000ff"></xr-ray>
      <xr-ray id="ray-2" rotation="-90 0 0" debug="color: #00ff00"></xr-ray>
      <xr-ray id="ray-3" rotation="0 90 0" debug="color: #ff0000"></xr-ray>

      <xr-decal
        id="decal-1"
        img="./assets/decal.png"
        img-level="2"
        normal="0 0 1"
        position="0 0 -0.5"
        size="0.8 0.8 1"
        _debug="color: #0000ff"
      ></xr-decal>
      <xr-decal
        id="decal-2"
        img="./assets/decal.png"
        img-level="2"
        normal="0 1 0"
        position="0 -0.5 0"
        size="0.8 0.8 1"
        _debug="color: #00ff00"
      ></xr-decal>
      <xr-decal
        id="decal-3"
        img="./assets/decal.png"
        img-level="2"
        normal="1 0 0"
        position="-0.5 0 0"
        size="0.8 0.8 1"
        _debug="color: #ff0000"
      ></xr-decal>
    </xr-mesh>
  </xr-scene>
</xr-engine>

<script>
  // 旋转 box1
  (function () {
    const box = document.querySelector('#box1');

    // 每秒旋转
    let y = 0;

    setInterval(() => {
      y += 10;
      box.setAttribute('rotation', `0 ${y} 0`);
    }, 800);
  })();
</script>
